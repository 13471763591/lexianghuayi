<!DOCTYPE html>
<html lang="en">

<head>
	<title>用户管理页</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="css/bootstrap.min.css" />
	<link rel="stylesheet" href="css/bootstrap-responsive.min.css" />
	<link rel="stylesheet" href="css/uniform.css" />
	<link rel="stylesheet" href="css/select2.css" />
	<link rel="stylesheet" href="css/matrix-style2.css" />
	<link rel="stylesheet" href="css/matrix-media.css" />
	<link href="font-awesome/css/font-awesome.css" rel="stylesheet" />
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,800' rel='stylesheet' type='text/css'> -->
</head>

<body>

	<div id="content">
		<div id="content-header">
			<h1>用户信息管理</h1>
		</div>
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span12">
					<div class="widget-box">
						<div class="widget-title"> <span class="icon"> <i class="icon-info-sign"></i> </span>
							<h5>添加新用户</h5>
						</div>
						<div class="widget-content nopadding">
							<form class="form-horizontal" method="post" action="#" name="basic_validate"
								id="basic_validate" novalidate="novalidate">
								<div class="control-group">
									<label class="control-label">用户名</label>
									<div class="controls">
										<input type="text" name="required" id="required">
									</div>
								</div>
								<div class="control-group">
									<label class="control-label">邮箱</label>
									<div class="controls">
										<input type="text" autocomplete="off" name="email" id="email">
									</div>
								</div>
								<div class="control-group">
									<label class="control-label">密码</label>
									<div class="controls">
										<input type="text" autocomplete="off" name="date" id="date">
									</div>
								</div>
								<div class="form-actions">
									<input type="button" autocomplete="off" value="保存" class="btn btn-success">
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- <script src="http://www.jq22.com/jquery/jquery-1.7.1.js"></script> -->
	<script src="js/jquery.min.js"></script>
	<script src="js/jquery.ui.custom.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.uniform.js"></script>
	<script src="js/select2.min.js"></script>
	<script src="js/jquery.dataTables.min.js"></script>
	<script src="js/matrix.js"></script>
	<script src="js/matrix.tables.js"></script>
	<script>
	console.log($("input"));
	$(".btn-success").click(function(){

		let useVal=$("input").eq(0).val();
		let emailVal=$("input").eq(1).val();
		let pswVal=$("input").eq(2).val();
		let falg=true;
        if(!/^1[3-9]\d{9}$/.test(useVal)){
            alert("请输入正确的手机手机号")
            falg=false;
		}
		// 邮箱地址:前缀可以是1个或者多个数字、字母、下划线，
		// 邮箱所属公司可以是1个或者多个数字、字母、下划线，后缀可以是1个或者多个字母(包括大小写)
		if(!/^\w+@\w+\.[a-zA-Z]+$/.test(emailVal)){
			alert("请输入正确的邮箱");
			falg=false;
		}
		console.log(useVal,email,pswVal);
		if(falg){
		$.ajax({
					type: "post",
					url: "/user/adduser",
					data:{phone:useVal,password:pswVal,email:emailVal},
					success(data) {
						alert(data.mes)
						window.location.reload()
					}
			});
		}
		
		
		
	})
	
	
	
	
	</script>
</body>

</html>